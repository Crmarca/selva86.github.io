<!DOCTYPE html>
<html>
  <head>
    <title>Logistic Regression - r-statistics.co</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/screenshots/iconb-64.png" type="image/x-icon" />
    <link href="www/bootstrap.min.css" rel="stylesheet">
    <link href="www/highlight.css" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700'
      rel='stylesheet' type='text/css'>
    <style type="text/css">
      a {
       color: #3675C5;
       color: rgb(25, 145, 248);
       color: #4582ec;
      }
    </style>
  </head>

  <body>

    <div class="container">

      <div class="masthead">
       <!--
        <ul class="nav nav-pills pull-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              Table of contents<b class="caret"></b>
            </a>
            <ul class="dropdown-menu pull-right" role="menu">
              <li><a href="R-Tutorial.html">R Tutorial</a></li>
<li class="dropdown-header">Foundations</li>
<li><a href="Linear-Regression.html">Linear Regression</a></li>
<li><a href="Assumptions-of-Linear-Regression.html">Assumptions of Linear Regression</a></li>
<li><a href="Statistical-Tests-in-R.html">Statistical Tests</a></li>
<li><a href="Variable-Selection-and-Importance-With-R.html">Feature Selection</a></li>
<li><a href="Model-Selection-in-R.html">Model Selection</a></li>
<li><a href="OO-essentials.html">Logistic Regression</a></li>
<li><a href="Environments.html">Advanced Linear Regression</a></li>

<li class="dropdown-header">Advanced Regression Models</li>
<li><a href="Functional-programming.html">Robust Regression</a></li>
<li><a href="Functionals.html">Probit Regression</a></li>
<li><a href="Function-operators.html">Multinomial Regression</a></li>
<li><a href="Functional-programming.html">Ordinal Logistic</a></li>
<li><a href="Functionals.html">Poisson and Negative Binomial</a></li>
<li><a href="Function-operators.html">Ridge Regression</a></li>
<li><a href="Function-operators.html">Beta Regression</a></li>
<li><a href="Function-operators.html">Dirichlet Regression</a></li>
<li><a href="Function-operators.html">Loess Regression</a></li>
<li><a href="Function-operators.html">Isotonic Regression</a></li>

<li class="dropdown-header">Time Series</li>
<li><a href="Computing-on-the-language.html">Time Series Analysis</a></li>
<li><a href="Expressions.html">Time Series Forecasting </a></li>
<li><a href="dsl.html">More Timeseries Forecasting</a></li>

<li class="dropdown-header">High Performance Computing</li>
<li><a href="Performance.html">Parallel computing</a></li>
<li><a href="Profiling.html">Strategies to Speedup R code</a></li>

            </ul>
          </li>
        </ul>
        -->

        <h3 class="muted"><a href="/">r-statistics.co</a> <small>by Selva Prabhakaran</small></h3>
        <hr>
      </div>

      <div class="row">
        <div class="col-xs-12 col-sm-3" id="nav">
        <div class="well">
          <li>
            <ul class="list-unstyled">
              <li><a href="R-Tutorial.html">R Tutorial</a></li>
<li class="dropdown-header">Foundations</li>
<li><a href="Linear-Regression.html">Linear Regression</a></li>
<li><a href="Assumptions-of-Linear-Regression.html">Assumptions of Linear Regression</a></li>
<li><a href="Statistical-Tests-in-R.html">Statistical Tests</a></li>
<li><a href="Variable-Selection-and-Importance-With-R.html">Feature Selection</a></li>
<li><a href="Model-Selection-in-R.html">Model Selection</a></li>
<li><a href="OO-essentials.html">Logistic Regression</a></li>
<li><a href="Environments.html">Advanced Linear Regression</a></li>

<li class="dropdown-header">Advanced Regression Models</li>
<li><a href="Functional-programming.html">Robust Regression</a></li>
<li><a href="Functionals.html">Probit Regression</a></li>
<li><a href="Function-operators.html">Multinomial Regression</a></li>
<li><a href="Functional-programming.html">Ordinal Logistic</a></li>
<li><a href="Functionals.html">Poisson and Negative Binomial</a></li>
<li><a href="Function-operators.html">Ridge Regression</a></li>
<li><a href="Function-operators.html">Beta Regression</a></li>
<li><a href="Function-operators.html">Dirichlet Regression</a></li>
<li><a href="Function-operators.html">Loess Regression</a></li>
<li><a href="Function-operators.html">Isotonic Regression</a></li>

<li class="dropdown-header">Time Series</li>
<li><a href="Computing-on-the-language.html">Time Series Analysis</a></li>
<li><a href="Expressions.html">Time Series Forecasting </a></li>
<li><a href="dsl.html">More Timeseries Forecasting</a></li>

<li class="dropdown-header">High Performance Computing</li>
<li><a href="Performance.html">Parallel computing</a></li>
<li><a href="Profiling.html">Strategies to Speedup R code</a></li>

            </ul>
          </li>
        </div>

        <div class="well">
          Want to get involved? <a href="mailto:rcodeprogramming@gmail.com">Let me know!</a>.
        </div>

        
        <h4>Contents</h4>
        
          <ul class="list-unstyled" id="toc"></ul>
        <!--
          <hr>
          <p><a href="/contribute.html">How to contribute</a></p>

          <p><a class="btn btn-primary" href="">Edit this page</a></p>
        -->  
        </div>

        <div id="content" class="col-xs-12 col-sm-8 pull-right">

          <blockquote>
<p>If linear regression serves to predict continuous Y variables, logistic regression is used for binary classification.</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">inputData &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;http://rstatistics.net/wp-content/uploads/2015/09/adult.csv&quot;</span>)
<span class="kw">head</span>(inputData)
<span class="co">#=&gt;   AGE         WORKCLASS FNLWGT  EDUCATION EDUCATIONNUM       MARITALSTATUS</span>
<span class="co">#=&gt; 1  39         State-gov  77516  Bachelors           13       Never-married</span>
<span class="co">#=&gt; 2  50  Self-emp-not-inc  83311  Bachelors           13  Married-civ-spouse</span>
<span class="co">#=&gt; 3  38           Private 215646    HS-grad            9            Divorced</span>
<span class="co">#=&gt; 4  53           Private 234721       11th            7  Married-civ-spouse</span>
<span class="co">#=&gt; 5  28           Private 338409  Bachelors           13  Married-civ-spouse</span>
<span class="co">#=&gt; 6  37           Private 284582    Masters           14  Married-civ-spouse</span>
<span class="co">#             OCCUPATION   RELATIONSHIP   RACE     SEX CAPITALGAIN CAPITALLOSS</span>
<span class="co">#=&gt; 1       Adm-clerical  Not-in-family  White    Male        2174           0</span>
<span class="co">#=&gt; 2    Exec-managerial        Husband  White    Male           0           0</span>
<span class="co">#=&gt; 3  Handlers-cleaners  Not-in-family  White    Male           0           0</span>
<span class="co">#=&gt; 4  Handlers-cleaners        Husband  Black    Male           0           0</span>
<span class="co">#=&gt; 5     Prof-specialty           Wife  Black  Female           0           0</span>
<span class="co">#=&gt; 6    Exec-managerial           Wife  White  Female           0           0</span>
<span class="co">#     HOURSPERWEEK  NATIVECOUNTRY ABOVE50K</span>
<span class="co">#=&gt; 1           40  United-States        0</span>
<span class="co">#=&gt; 2           13  United-States        0</span>
<span class="co">#=&gt; 3           40  United-States        0</span>
<span class="co">#=&gt; 4           40  United-States        0</span>
<span class="co">#=&gt; 5           40           Cuba        0</span>
<span class="co">#=&gt; 6           40  United-States        0</span></code></pre></div>
<p>Ideally, the proportion of events and non-events in the Y variable should approxiately be the same. So, lets first check the proportion of classes in the dependent variable <code>ABOVE50K</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(inputData$ABOVE50K)
<span class="co">#     0     1 </span>
<span class="co"># 24720  7841 </span></code></pre></div>
<p>Clearly, there is a class bias, a condition observed when the proportion of events is much smaller than proportion of non-events. So we must sample the observations in approximately equal proportions to get better models.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">input_ones &lt;-<span class="st"> </span><span class="kw">which</span>(inputData$ABOVE50K ==<span class="st"> </span><span class="dv">1</span>)  <span class="co"># row nums of all 1&#39;s</span>
input_zeros &lt;-<span class="st"> </span><span class="kw">which</span>(inputData$ABOVE50K ==<span class="st"> </span><span class="dv">0</span>)  <span class="co"># row nums of all 0&#39;s</span>
<span class="kw">set.seed</span>(<span class="dv">100</span>) 
input_zeros_reduced &lt;-<span class="st"> </span><span class="kw">sample</span>(input_zeros, <span class="kw">length</span>(input_ones))  <span class="co"># sample as many 0&#39;s as there are 1&#39;s</span>
inputData_reduced &lt;-<span class="st"> </span>inputData[<span class="kw">c</span>(input_ones, input_zeros_reduced), ]  <span class="co"># input with equal 1&#39;s and 0&#39;s</span>
training &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span>:<span class="kw">nrow</span>(inputData_reduced), <span class="dt">size=</span><span class="kw">round</span>(<span class="fl">0.7</span>*<span class="kw">NROW</span>(inputData_reduced)))  <span class="co"># training row positions</span>
trainingData &lt;-<span class="st"> </span>inputData[training, ]  <span class="co"># make training data</span>
testData &lt;-<span class="st"> </span>inputData[-training, ]  <span class="co"># make test data</span></code></pre></div>


        </div>
      </div>

      <div class="footer">
        <hr>
        <p>&copy; r-statistics.co. Powered by <a href="http://jekyllrb.com/">jekyll</a>,
          <a href="http://yihui.name/knitr/">knitr</a>, and
          <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>. Source
          available on <a href="https://github.com/selva86/selva86.github.io/">github</a>.
        </p>
      </div>

    </div> <!-- /container -->

  <script src="//code.jquery.com/jquery.js"></script>
  <script src="www/bootstrap.min.js"></script>
  <script src="www/toc.js"></script>
  </body>
</html>