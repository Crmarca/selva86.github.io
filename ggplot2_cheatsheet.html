<!DOCTYPE html>
<html>
  <head>
    <title>Ggplot2 quickref - r-statistics.co</title>
    <meta charset="utf-8">
    <meta name="Description" content="R Language Tutorials for Advanced Statistics">
    <meta name="Keywords" content="R, Tutorial, Machine learning, Statistics, Data Mining, Analytics, Data science, Linear Regression, Logistic Regression, Time series, Forecasting">
    <meta name="Distribution" content="Global">
    <meta name="Author" content="Selva Prabhakaran">
    <meta name="Robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/screenshots/iconb-64.png" type="image/x-icon" />
    <link href="www/bootstrap.min.css" rel="stylesheet">
    <link href="www/highlight.css" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700'
      rel='stylesheet' type='text/css'>
    <!-- Color Script -->
    <style type="text/css">
      a {
       color: #3675C5;
       color: rgb(25, 145, 248);
       color: #4582ec;
       color: #3F73D8;
      }
      li {
        line-height: 1.65;
      }
      /* reduce spacing around math formula*/
      .MathJax_Display {
        margin: 0em 0em;
      }   
    </style>
    <!-- Add Google search -->
    <script language="Javascript" type="text/javascript">
  function my_search_google()
  {
    var query = document.getElementById("my-google-search").value;
    window.open("http://google.com/search?q=" + query
	+ "%20site:" + "http://r-statistics.co");
  }
</script>
  </head>

  <body>

    <div class="container">

      <div class="masthead">
       <!--
        <ul class="nav nav-pills pull-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              Table of contents<b class="caret"></b>
            </a>
            <ul class="dropdown-menu pull-right" role="menu">
              <li class="dropdown-header"></li>
<li class="dropdown-header">Tutorial</li>
<li><a href="R-Tutorial.html">R Tutorial</a></li>
<li><a href="ggplot2-Tutorial-With-R.html">ggplot2 Tutorial</a></li>
<li><a href="ggplot2-cheatsheet.html">ggplot2 Quickref</a></li>
<li class="dropdown-header">Foundations</li>
<li><a href="Linear-Regression.html">Linear Regression</a></li>
<li><a href="Assumptions-of-Linear-Regression.html">Assumptions of Linear Regression</a></li>
<li><a href="Statistical-Tests-in-R.html">Statistical Tests</a></li>
<li><a href="Missing-Value-Treatment-With-R.html">Missing Value Treatment</a></li>
<li><a href="Outlier-Treatment-With-R.html">Outlier Analysis</a></li>
<li><a href="Variable-Selection-and-Importance-With-R.html">Feature Selection</a></li>
<li><a href="Model-Selection-in-R.html">Model Selection</a></li>
<li><a href="Logistic-Regression-With-R.html">Logistic Regression</a></li>
<li><a href="Environments.html">Advanced Linear Regression</a></li>

<li class="dropdown-header">Advanced Regression Models</li>
<li><a href="adv-regression-models.html">Advanced Regression Models</a></li>

<li class="dropdown-header">Time Series</li>
<li><a href="Time-Series-Analysis-With-R.html">Time Series Analysis</a></li>
<li><a href="Time-Series-Forecasting-With-R.html">Time Series Forecasting </a></li>
<li><a href="Time-Series-Forecasting-With-R-part2.html">More Time Series Forecasting</a></li>

<li class="dropdown-header">High Performance Computing</li>
<li><a href="Parallel-Computing-With-R.html">Parallel computing</a></li>
<li><a href="Strategies-To-Improve-And-Speedup-R-Code.html">Strategies to Speedup R code</a></li>

<li class="dropdown-header">Useful Techniques</li>
<li><a href="Association-Mining-With-R.html">Association Mining</a></li>
<li><a href="Multi-Dimensional-Scaling-With-R.html">Multi Dimensional Scaling</a></li>
<li><a href="Profiling.html">Optimization</a></li>
<li><a href="Information-Value-With-R.html">InformationValue package</a></li>

            </ul>
          </li>
        </ul>
        -->

        <ul class="nav nav-pills pull-right">
          <div class="input-group">
            <form onsubmit="my_search_google()">
                <input type="text" class="form-control" id="my-google-search" placeholder="Search..">
            <form>
          </div><!-- /input-group -->
        </ul><!-- /.col-lg-6 -->

        <h3 class="muted"><a href="/">r-statistics.co</a></h3>
        <hr>
      </div>

      <div class="row">
        <div class="col-xs-12 col-sm-3" id="nav">
        <div class="well">
          <li>
            <ul class="list-unstyled">
                <li class="dropdown-header"></li>
<li class="dropdown-header">Tutorial</li>
<li><a href="R-Tutorial.html">R Tutorial</a></li>
<li><a href="ggplot2-Tutorial-With-R.html">ggplot2 Tutorial</a></li>
<li><a href="ggplot2-cheatsheet.html">ggplot2 Quickref</a></li>
<li class="dropdown-header">Foundations</li>
<li><a href="Linear-Regression.html">Linear Regression</a></li>
<li><a href="Assumptions-of-Linear-Regression.html">Assumptions of Linear Regression</a></li>
<li><a href="Statistical-Tests-in-R.html">Statistical Tests</a></li>
<li><a href="Missing-Value-Treatment-With-R.html">Missing Value Treatment</a></li>
<li><a href="Outlier-Treatment-With-R.html">Outlier Analysis</a></li>
<li><a href="Variable-Selection-and-Importance-With-R.html">Feature Selection</a></li>
<li><a href="Model-Selection-in-R.html">Model Selection</a></li>
<li><a href="Logistic-Regression-With-R.html">Logistic Regression</a></li>
<li><a href="Environments.html">Advanced Linear Regression</a></li>

<li class="dropdown-header">Advanced Regression Models</li>
<li><a href="adv-regression-models.html">Advanced Regression Models</a></li>

<li class="dropdown-header">Time Series</li>
<li><a href="Time-Series-Analysis-With-R.html">Time Series Analysis</a></li>
<li><a href="Time-Series-Forecasting-With-R.html">Time Series Forecasting </a></li>
<li><a href="Time-Series-Forecasting-With-R-part2.html">More Time Series Forecasting</a></li>

<li class="dropdown-header">High Performance Computing</li>
<li><a href="Parallel-Computing-With-R.html">Parallel computing</a></li>
<li><a href="Strategies-To-Improve-And-Speedup-R-Code.html">Strategies to Speedup R code</a></li>

<li class="dropdown-header">Useful Techniques</li>
<li><a href="Association-Mining-With-R.html">Association Mining</a></li>
<li><a href="Multi-Dimensional-Scaling-With-R.html">Multi Dimensional Scaling</a></li>
<li><a href="Profiling.html">Optimization</a></li>
<li><a href="Information-Value-With-R.html">InformationValue package</a></li>

            </ul>
          </li>
        </div>

        <div class="well">
          Stay up-to-date. <a href="https://docs.google.com/forms/d/1xkMYkLNFU9U39Dd8S_2JC0p8B5t6_Yq6zUQjanQQJpY/viewform">Subscribe!</a>
        </div>

        
        <h4>Contents</h4>
        

          <ul class="list-unstyled" id="toc"></ul>
        <!--
          <hr>
          <p><a href="/contribute.html">How to contribute</a></p>

          <p><a class="btn btn-primary" href="">Edit this page</a></p>
        -->  
        </div>

        <div id="content" class="col-xs-12 col-sm-8 pull-right">

          <h1>Ggplot2 Quickref</h1>
<h4>Basics tasks</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Basic%20plot%20setup">Basic plot setup</a></li>
<li><a href="ggplot2-cheatsheet.html#Scatterplot">Scatterplot</a></li>
<li><a href="ggplot2-cheatsheet.html#Static%20-%20point%20size,%20shape,%20color%20and%20boundary%20thickness">Static - point size, shape, color and boundary thickness</a></li>
<li><a href="ggplot2-cheatsheet.html#Dynamic%20-%20point%20size,%20shape,%20color%20and%20boundary%20thickness">Dynamic - point size, shape, color and boundary thickness</a></li>
<li><a href="ggplot2-cheatsheet.html#Add%20Title,%20X%20and%20Y%20axis%20labels">Add title, X and Y axis labels</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20color%20of%20all%20text">Change color of all text</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20title,%20X%20and%20Y%20axis%20label%20size">Change title, X and Y axis label size</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20title%20font,%20face,%20color,%20line%20height">Change title font, face, color, line height</a></li>
<li><a href="ggplot2-cheatsheet.html#Adjust%20X%20and%20Y%20axis%20limits">Adjust X and Y axis limits</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20X%20and%20Y%20axis%20labels">Change X and Y axis labels</a></li>
<li><a href="ggplot2-cheatsheet.html#Flip%20X%20and%20Y%20Axis">Flip X and Y axis</a></li>
<li><a href="ggplot2-cheatsheet.html#Rotate%20axis%20text">Rotate axis text</a></li>
</ul>
<h4>Legend</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Hide%20legend">Hide legend</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20legend%20position">Change legend position</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20order%20of%20legend%20items">Change order of legend items</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20legend%20title">Change legend title</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20legend%20text">Change legend text</a></li>
<li><a href="ggplot2-cheatsheet.html#Legend%20title%20and%20text%20size">Legend title and text size</a></li>
<li><a href="ggplot2-cheatsheet.html#Legend%20box%20color">Legend box color</a></li>
<li><a href="ggplot2-cheatsheet.html#Legend%20symbol%20size">Legend symbol size</a></li>
</ul>
<h4>Plot text and annotation</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Annotation">Annotation</a></li>
<li><a href="ggplot2-cheatsheet.html#Add%20text%20in%20chart">Add text in chart</a></li>
</ul>
<h4>Multiple plots</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Multiple%20chart%20panels">Multiple chart panels</a></li>
<li><a href="ggplot2-cheatsheet.html#Free%20X%20and%20Y%20axis%20scales">Free X and Y axis scales</a></li>
<li><a href="ggplot2-cheatsheet.html#Arrange%20multiple%20plots">Arrange multiple plots</a></li>
</ul>
<h4>Geom layers</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Add%20smoothing%20line">Add smoothing line</a></li>
<li><a href="ggplot2-cheatsheet.html#Add%20horizontal%20/%20vertical%20line">Add horizontal / vertical line</a></li>
<li><a href="ggplot2-cheatsheet.html#Add%20bar%20chart">Add bar chart</a></li>
<li><a href="ggplot2-cheatsheet.html#Grouped%20bar%20chart">Grouped bar chart</a></li>
<li><a href="ggplot2-cheatsheet.html#Distinct%20color%20for%20bars">Distinct color for bars</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20color%20of%20bars">Change color of bars</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20color%20palette">Change color palette</a></li>
<li><a href="ggplot2-cheatsheet.html#Make%20line%20chart">Make line chart</a></li>
<li><a href="ggplot2-cheatsheet.html#Add%20multiple%20lines">Add multiple lines</a></li>
<li><a href="ggplot2-cheatsheet.html#Line%20chart%20from%20timeseries">Line chart from timeseries</a></li>
</ul>
<p>Not finding what you were looking for? <a href="https://docs.google.com/forms/d/13GrkCFcNa-TOIllQghsz2SIEbc-YqY9eJX02B19l5Ow/viewform">Let me know!</a></p>
<h2>Basic tasks</h2>
<h5>Basic plot setup</h5>
<pre><code>gg &lt;- ggplot(df, aes(x=xcol, y=ycol)) 
`df` must be a dataframe that contains all information to make the ggplot. Plot will show up only after adding the geom layers.</code></pre>
<h5>Scatterplot</h5>
<pre><code>gg + geom_point()</code></pre>
<h5>Static - point size, shape, color and boundary thickness</h5>
<pre><code>gg + geom_point(size=1, shape=1, color=&quot;steelblue&quot;, stroke=2)</code></pre>
<h5>Dynamic - point size, shape, color and boundary thickness</h5>
<pre><code>gg + geom_point(aes(size=1, shape=1, color=&quot;steelblue&quot;, stroke=2))            </code></pre>
<h5>Add Title, X and Y axis labels</h5>
<pre><code>gg1 &lt;- gg + geom_point() + labs(title=&quot;Plot Title&quot;, x=&quot;X-Axis&quot;, y=&quot;Y-Axis&quot;)</code></pre>
<h5>Change color of all text</h5>
<pre><code>gg1 + theme(text=element_text(color=&quot;blue&quot;))</code></pre>
<h5>Change title, X and Y axis label size</h5>
<pre><code>gg1 + theme(plot.title=element_text(size=25), axis.title.x=element_text(size=20), axis.title.y=element_text(size=20))</code></pre>
<h5>Change title font, face, color, line height</h5>
<pre><code>gg1 + theme(plot.title=element_text(family=&quot;calibri&quot;, face=&quot;bold&quot;, color=&quot;steelblue&quot;, lineheight=1.5)</code></pre>
<h5>Adjust X and Y axis limits</h5>
<pre><code>Method 1: Zoom in
gg1 + coord_cartesian(xlim=c(x1,x2), ylim=c(y1, y2))

Method 2: Deletes the points outside limits
gg1 + xlim(c(x1,x2)) + ylim(c(y1,y2)))

Method 3: Deletes the points outside limits
gg1 + scale_x_continuous(limits=c(x1,x2)) + scale_y_continuous(limits=c(y1,y2))</code></pre>
<h5>Change X and Y axis labels</h5>
<pre><code>gg1 + scale_x_discrete(labels=mylabels)  # if X is a factor
gg1 + scale_y_continuous(breaks=mybreaks)  # if Y is continuous</code></pre>
<h5>Flip X and Y Axis</h5>
<pre><code>gg1 + coord_flip()</code></pre>
<h5>Rotate axis text</h5>
<pre><code>gg1 + theme(axis.text.x=element_text(angle=45), axis.text.y=element_text(angle=45))</code></pre>
<h2>Legend</h2>
<h5>Hide legend</h5>
<pre><code>gg1 + theme(legend.postion=&quot;none&quot;)</code></pre>
<h5>Change legend title</h5>
<pre><code>gg1 + scale_color_discrete(name=&quot;Cut of diamonds&quot;)</code></pre>
<h5>Change legend text</h5>
<pre><code>scale_colour_manual(name=&#39;&#39;, values=c(&#39;Important line&#39;=&#39;grey&#39;, &#39;Point values&#39;=&#39;red&#39;))</code></pre>
<h5>Change legend position</h5>
<pre><code>Method 1: Outside plot
gg1 + theme(legend.postion=&quot;top&quot;)  # top / bottom / left / right

Method 2: Inside plot
gg1 + theme(legend.justification=c(1,0), legend.position=c(1,0))</code></pre>
<h5>Change order of legend items</h5>
<pre><code>df$newLegendColumn &lt;- factor(df$legendcolumn, levels=c(my_order_of_legend_items), ordered = TRUE) 
Create a new factor variable used in the legend, ordered as you need. Then use this variable instead in the plot.</code></pre>
<h5>Legend title and text size</h5>
<pre><code>gg1 + theme(legend.title = element_text(size=20), legend.text = element_text(size=15))</code></pre>
<h5>Legend box color</h5>
<pre><code>gg1 + theme(legend.key=element_rect(fill=&#39;steelblue&#39;))</code></pre>
<h5>Legend symbol size</h5>
<pre><code>gg1 + guides(colour = guide_legend(override.aes = list(size=4)))</code></pre>
<h2>Plot text and annotation</h2>
<h5>Annotation</h5>
<pre><code>gg1 + geom_text(aes(xcol, ycol, label=round(labelCol), size=3)</code></pre>
<h5>Add text in chart</h5>
<pre><code>gg1 + annotate(&quot;mytext&quot;, x=xpos, y=ypos, label=&quot;My text&quot;)

library(grid)
my_grob = grobTree(textGrob(&quot;My Custom Text&quot;, x=0.1, y=0.9, gp=gpar(col=&quot;firebrick&quot;, fontsize=25, fontface=&quot;bold&quot;)))
GG1 + annotation_custom(my_grob)</code></pre>
<h2>Multiple plots</h2>
<h5>Multiple chart panels</h5>
<pre><code>gg1 + facet_wrap(rowVariable ~ columnVariable, ncol=2)  # multiple plots 
gg1 + facet_grid(rowVariable ~ columnVariable)  # arrange in a grid. More space for plots.</code></pre>
<h5>Free X and Y axis scales</h5>
<pre><code>gg1 + facet_wrap(rowVariable ~ columnVariable, ncol=2, scales=&quot;free&quot;)  # free the x and y axis scales.</code></pre>
<h5>Arrange multiple plots</h5>
<pre><code>library(gridExtra)
grid.arrange(gg1, gg2, gg3, ncol=2)</code></pre>
<h2>Geom layers</h2>
<h5>Add smoothing line</h5>
<pre><code>gg + geom_smooth(method=&quot;lm&quot;)  # method could be - &#39;lm&#39;, &#39;loess&#39;, &#39;gam&#39;</code></pre>
<h5>Add horizontal / vertical line</h5>
<pre><code>gg + geom_hline(yintercept=10)
gg + geom_vline(xintercept=10)</code></pre>
<h5>Add bar chart</h5>
<pre><code>gg &lt;- ggplot(df, aes(x=xcol))
gg1 &lt;- ggplot(df, aes(x=xcol, y=ycol))  
gg + geom_bar()  # frequency table
gg1 + geom_bar(stat=&quot;identity&quot;)  # static bar chart</code></pre>
<h5>Grouped bar chart</h5>
<pre><code>gg1 + geom_bar(stat=&quot;identity&quot;, position=&quot;dodge&quot;, fill=groupcol)  # without &#39;dodge&#39;, bars will be stacked.</code></pre>
<h5>Distinct color for bars</h5>
<pre><code>gg1 + geom_bar(stat=&quot;identity&quot;, aes(fill=colorVariable))</code></pre>
<h5>Change color of bars</h5>
<pre><code>gg1 + geom_bar(stat=&quot;identity&quot;) + scale_fill_manual(values=c(&quot;color1&quot;, &quot;color2&quot;, &quot;color3&quot;))</code></pre>
<h5>Change color palette</h5>
<pre><code>library(RColorBrewer)
display.brewer.all(n=20, exact.n=FALSE)  # display available color palettes
ggplot(mtcars, aes(x=cyl, y=carb, fill=factor(cyl))) + geom_bar(stat=&quot;identity&quot;) + scale_fill_brewer(palette=&quot;Reds&quot;)  # &quot;Reds&quot; is palette name</code></pre>
<h5>Make line chart</h5>
<pre><code>gg + geom_line(linetype=&#39;dotted&#39;, size=1, color=&quot;firebrick&quot;)  # linetypes: solid, dashed, dotted, dotdash, longdash and twodash
gg + geom_line(linetype=&#39;dotted&#39;, aes(size=sizeVar, color=colorVar))  # dynamic size and color.</code></pre>
<h5>Add multiple lines</h5>
<pre><code>Method 1:
gg + geom_line(aes(x=date, y=yVar, color=colorVar)) + geom_line(aes(x=date, y=yVar2, col=colorVar2)) + scale_color_discrete(name=&quot;Legend&quot;) 

Method 2:
library(reshape2)
df &lt;- melt(economics[, c(&quot;date&quot;, &quot;pce&quot;, &quot;unemploy&quot;)], id=&quot;date&quot;)
ggplot(df) + geom_line(aes(x=date, y=value, color=variable)) + labs(title=&quot;Economics&quot;)# plot multiple time series by melting</code></pre>
<h5>Line chart from timeseries</h5>
<pre><code>library(ggfortify)
autoplot(tsobject)</code></pre>


        </div>
      </div>

      <div class="footer">
        <hr>
        <p>&copy; 2015 Selva Prabhakaran. Powered by <a href="http://jekyllrb.com/">jekyll</a>,
          <a href="http://yihui.name/knitr/">knitr</a>, and
          <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>.
          This work is licensed under the <a href="http://creativecommons.org/licenses/by-nc/3.0/">Creative Commons License.</a>
        </p>
      </div>

    </div> <!-- /container -->

  <script src="//code.jquery.com/jquery.js"></script>
  <script src="www/bootstrap.min.js"></script>
  <script src="www/toc.js"></script>
  <!-- MathJax Script -->
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
  </script>
  <script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  
  <!-- Google Analytics Code -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-69351797-1', 'auto');
    ga('send', 'pageview');
  </script>

  <style type="text/css">
  /* reduce spacing around math formula*/
    .MathJax_Display {
      margin: 0em 0em;
    }
  </style>
  </body>
</html>