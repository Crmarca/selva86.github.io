<!DOCTYPE html>
<html>
  <head>
    <title>GGplot2 3-Part Tutorial With R | Part 1</title>
    <meta charset="utf-8">
    <meta name="Description" content="R Language Tutorials for Advanced Statistics">
    <meta name="Keywords" content="R, Tutorial, Machine learning, Statistics, Data Mining, Analytics, Data science, Linear Regression, Logistic Regression, Time series, Forecasting">
    <meta name="Distribution" content="Global">
    <meta name="Author" content="Selva Prabhakaran">
    <meta name="Robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/screenshots/iconb-64.png" type="image/x-icon" />
    <link href="www/bootstrap.min.css" rel="stylesheet">
    <link href="www/highlight.css" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700'
      rel='stylesheet' type='text/css'>
    <!-- Color Script -->
    <style type="text/css">
      a {
       color: #3675C5;
       color: rgb(25, 145, 248);
       color: #4582ec;
       color: #3F73D8;
      }
      li {
        line-height: 1.65;
      }
      /* reduce spacing around math formula*/
      .MathJax_Display {
        margin: 0em 0em;
      }   
    </style>
    <!-- Add Google search -->
    <script language="Javascript" type="text/javascript">
  function my_search_google()
  {
    var query = document.getElementById("my-google-search").value;
    window.open("http://google.com/search?q=" + query
	+ "%20site:" + "http://r-statistics.co");
  }
</script>
  </head>

  <body>

    <div class="container">

      <div class="masthead">
       <!--
        <ul class="nav nav-pills pull-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              Table of contents<b class="caret"></b>
            </a>
            <ul class="dropdown-menu pull-right" role="menu">
              <li class="dropdown-header"></li>
<li class="dropdown-header">Tutorial</li>
<li><a href="R-Tutorial.html">R Tutorial</a></li>
<li><a href="ggplot2-Tutorial-With-R.html">ggplot2 Tutorial</a></li>
<li><a href="ggplot2-cheatsheet.html">ggplot2 Quickref</a></li>
<li class="dropdown-header">Foundations</li>
<li><a href="Linear-Regression.html">Linear Regression</a></li>
<li><a href="Statistical-Tests-in-R.html">Statistical Tests</a></li>
<li><a href="Missing-Value-Treatment-With-R.html">Missing Value Treatment</a></li>
<li><a href="Outlier-Treatment-With-R.html">Outlier Analysis</a></li>
<li><a href="Variable-Selection-and-Importance-With-R.html">Feature Selection</a></li>
<li><a href="Model-Selection-in-R.html">Model Selection</a></li>
<li><a href="Logistic-Regression-With-R.html">Logistic Regression</a></li>
<li><a href="Environments.html">Advanced Linear Regression</a></li>

<li class="dropdown-header">Advanced Regression Models</li>
<li><a href="adv-regression-models.html">Advanced Regression Models</a></li>

<li class="dropdown-header">Time Series</li>
<li><a href="Time-Series-Analysis-With-R.html">Time Series Analysis</a></li>
<li><a href="Time-Series-Forecasting-With-R.html">Time Series Forecasting </a></li>
<li><a href="Time-Series-Forecasting-With-R-part2.html">More Time Series Forecasting</a></li>

<li class="dropdown-header">High Performance Computing</li>
<li><a href="Parallel-Computing-With-R.html">Parallel computing</a></li>
<li><a href="Strategies-To-Improve-And-Speedup-R-Code.html">Strategies to Speedup R code</a></li>

<li class="dropdown-header">Useful Techniques</li>
<li><a href="Association-Mining-With-R.html">Association Mining</a></li>
<li><a href="Multi-Dimensional-Scaling-With-R.html">Multi Dimensional Scaling</a></li>
<li><a href="Profiling.html">Optimization</a></li>
<li><a href="Information-Value-With-R.html">InformationValue package</a></li>

            </ul>
          </li>
        </ul>
        -->

        <ul class="nav nav-pills pull-right">
          <div class="input-group">
            <form onsubmit="my_search_google()">
                <input type="text" class="form-control" id="my-google-search" placeholder="Search..">
            <form>
          </div><!-- /input-group -->
        </ul><!-- /.col-lg-6 -->

        <h3 class="muted"><a href="/">r-statistics.co</a></h3>
        <hr>
      </div>

      <div class="row">
        <div class="col-xs-12 col-sm-3" id="nav">
        <div class="well">
          <li>
            <ul class="list-unstyled">
                <li class="dropdown-header"></li>
<li class="dropdown-header">Tutorial</li>
<li><a href="R-Tutorial.html">R Tutorial</a></li>
<li><a href="ggplot2-Tutorial-With-R.html">ggplot2 Tutorial</a></li>
<li><a href="ggplot2-cheatsheet.html">ggplot2 Quickref</a></li>
<li class="dropdown-header">Foundations</li>
<li><a href="Linear-Regression.html">Linear Regression</a></li>
<li><a href="Statistical-Tests-in-R.html">Statistical Tests</a></li>
<li><a href="Missing-Value-Treatment-With-R.html">Missing Value Treatment</a></li>
<li><a href="Outlier-Treatment-With-R.html">Outlier Analysis</a></li>
<li><a href="Variable-Selection-and-Importance-With-R.html">Feature Selection</a></li>
<li><a href="Model-Selection-in-R.html">Model Selection</a></li>
<li><a href="Logistic-Regression-With-R.html">Logistic Regression</a></li>
<li><a href="Environments.html">Advanced Linear Regression</a></li>

<li class="dropdown-header">Advanced Regression Models</li>
<li><a href="adv-regression-models.html">Advanced Regression Models</a></li>

<li class="dropdown-header">Time Series</li>
<li><a href="Time-Series-Analysis-With-R.html">Time Series Analysis</a></li>
<li><a href="Time-Series-Forecasting-With-R.html">Time Series Forecasting </a></li>
<li><a href="Time-Series-Forecasting-With-R-part2.html">More Time Series Forecasting</a></li>

<li class="dropdown-header">High Performance Computing</li>
<li><a href="Parallel-Computing-With-R.html">Parallel computing</a></li>
<li><a href="Strategies-To-Improve-And-Speedup-R-Code.html">Strategies to Speedup R code</a></li>

<li class="dropdown-header">Useful Techniques</li>
<li><a href="Association-Mining-With-R.html">Association Mining</a></li>
<li><a href="Multi-Dimensional-Scaling-With-R.html">Multi Dimensional Scaling</a></li>
<li><a href="Profiling.html">Optimization</a></li>
<li><a href="Information-Value-With-R.html">InformationValue package</a></li>

            </ul>
          </li>
        </div>

        <div class="well">
          <p>Stay up-to-date. <a href="https://docs.google.com/forms/d/1xkMYkLNFU9U39Dd8S_2JC0p8B5t6_Yq6zUQjanQQJpY/viewform">Subscribe!</a></p>
          <p><a href="https://docs.google.com/forms/d/13GrkCFcNa-TOIllQghsz2SIEbc-YqY9eJX02B19l5Ow/viewform">Chat!</a></p>
        </div>

        
        <h4>Contents</h4>
        

          <ul class="list-unstyled" id="toc"></ul>
        <!--
          <hr>
          <p><a href="/contribute.html">How to contribute</a></p>

          <p><a class="btn btn-primary" href="">Edit this page</a></p>
        -->  
        </div>

        <div id="content" class="col-xs-12 col-sm-8 pull-right">

          <h1>Ggplot2 Tutorial - Part 1</h1>
<blockquote>
<p>Previously we saw a brief <a href="ggplot2-Tutorial-With-R.html">tutorial</a> of making charts with ggplot2 package. It quickly touched upon the various aspects of making ggplot. In this and the following two parts, I discuss the individual steps and nuances required for constructing effective and visually appealing ggplots. So, for practical purposes I hope this tutorial serves well as a bookmark reference that will be useful for your day-to-day plotmaking.</p>
</blockquote>
<p>This is part 1 of a three part tutorial on ggplot2, an aesthetically pleasing (and very popular) graphics framework in R. This tutorial is primarily geared towards those having a some basic knowledge of the R programming language and want to make complex and nice looking charts with R ggplot.</p>
<ul>
<li><p><a href="ggplot2-Tutorial-Part1.html">Part 1: Introduction to Ggplot</a>, covers the basic knowledge about constructing simple ggplots and modifying the components and aesthetics.</p></li>
<li><p><a href="ggplot2-Tutorial-Part2.html">Part 2: Advanced customizations</a>, is about more advanced customizations like manipulating legend, annotations, multiplots with faceting and custom layouts</p></li>
<li><p><a href="ggplot2-Tutorial-Part3.html">Part 3: Other types of Ggplot geoms</a>, applies what was learnt in part 1 and 2 to construct other types of ggplots such as barcharts, boxplots etc.</p></li>
</ul>
<h3>Part 1: Introduction to Ggplot</h3>
<ol style="list-style-type: decimal">
<li><a href="ggplot2-Tutorial-With-R.html#1.%20Understanding%20the%20general%20ggplot%20format">Understanding the ggplot syntax</a></li>
<li><a href="ggplot2-Tutorial-With-R.html#2.%20Making%20a%20simple%20scatter%20plot">Making a simple scatter plot</a></li>
<li><a href="ggplot2-Tutorial-With-R.html#3.%20Adjusting%20the%20X%20and%20Y%20axis%20limits">Adjusting the X and Y axis limits</a></li>
<li><a href="ggplot2-Tutorial-With-R.html#4.%20Changing%20the%20title%20and%20axis%20labels">Changing the title and axis labels</a></li>
<li><a href="ggplot2-Tutorial-With-R.html#5.%20Changing%20the%20color%20and%20size%20of%20points,%20title%20and%20axis%20labels%20and%20axis%20text">Changing the color and size of points, title and axis labels and axis text</a></li>
</ol>
<h2>1. Understanding the ggplot syntax</h2>
<p>The syntax for constructing ggplots could be puzzling if you are a beginner or work primarily with base graphics. The main difference is that, unlike base graphics, ggplot works with dataframes and not individual vectors. All the data needed to make the plot should be contained within the dataframe supplied to the <code>ggplot()</code> itself.</p>
<p>The second noticeable feature is that you can keep enhancing the plot by adding more layers (and themes) to an existing plot created using the <code>ggplot()</code> function.</p>
<p>Let’s initialize a basic ggplot based on the midwest dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Setup
<span class="kw">options</span>(<span class="dt">scipen=</span><span class="dv">999</span>)  <span class="co"># turn off scientific notation like 1e+06</span>
<span class="kw">library</span>(ggplot2)
<span class="kw">data</span>(<span class="st">&quot;midwest&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;ggplot2&quot;</span>)  <span class="co"># load the data</span>
<span class="co"># midwest &lt;- read.csv(&quot;http://goo.gl/G1K41K&quot;) # alt source </span>

## Init Ggplot
<span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x=</span>area, <span class="dt">y=</span>poptotal))  <span class="co"># area and poptotal are columns in &#39;midwest&#39;</span></code></pre></div>
<p><img src='screenshots/ggplot_tut_1.png' width='503' height='310' /></p>
<p>A blank ggplot is drawn. Even though the <code>x</code> and <code>y</code> are specified, there are no points or lines in it. This is because, ggplot doesn’t assume that you meant a scatterplot or a line chart to be drawn. I have only told ggplot what dataset to use and what columns should be used for X and Y axis. I haven’t explicitly asked it to draw any points.</p>
<p>Also note that <code>aes()</code> function is used to specify the X and Y axes. That’s because, any information that is part of the dataframe has to be specified inside the <code>aes()</code> function.</p>
<h2>2. Making a simple scatter plot</h2>
<p>Let’s make a scatterplot on top of the blank ggplot by adding points using a geom layer called <code>geom_point</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x=</span>area, <span class="dt">y=</span>poptotal)) +<span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src='screenshots/ggplot_tut_2.png' width='503' height='310' /></p>
<p>We got a basic scatterplot, but it lacks some basic components such as the plot title, meaningful axis labels etc. Moreover most of the points are concentrated on the bottom portion of the plot, which is not so nice. You will see how to rectify these in upcoming steps.</p>
<p>Like <code>geom_point()</code>, there are many such geom layers which we will see in a subsequent part in this tutorial series. For now, let’s just add a smoothing layer using <code>geom_smooth(method='lm')</code>. Since the <code>method</code> is set as <code>lm</code> (short for <a href="Linear-Regression.html"><em>linear model</em></a>), it draws the line of best fit.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x=</span>area, <span class="dt">y=</span>poptotal)) +<span class="st"> </span><span class="kw">geom_point</span>() +<span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>)
<span class="kw">plot</span>(g)</code></pre></div>
<p><img src='screenshots/ggplot_tut_3.png' width='503' height='310' /></p>
<p>The line of best fit is in blue. Can you find out what other <code>method</code> options are available for <code>geom_smooth</code>? (note: see <code>?geom_smooth</code>). You might have noticed that majority of points lie in the bottom of the chart which doesn’t really look nice. So, let’s change the Y-axis limits to focus on the lower half.</p>
<h2>3. Adjusting the X and Y axis limits</h2>
<p>The axis limits can be controlled in 2 ways. One by deleting the points outside the range. This will change the lines of best fit or smoothing lines as compared to the original data.</p>
<p>This can be done by <code>xlim()</code> and <code>ylim()</code>. You can pass a numeric vector of length 2 (with maximum and minimum values) or just the maximum and minimum values itself</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Delete the points</span>
g +<span class="st"> </span><span class="kw">xlim</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.1</span>)) +<span class="st"> </span><span class="kw">ylim</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1000000</span>))   <span class="co"># deletes points</span>
<span class="co"># g + xlim(0, 0.1) + ylim(0, 1000000)   # deletes points</span></code></pre></div>
<p><img src='screenshots/ggplot_tut_4.png' width='503' height='310' /> In this case, I did not build the chart from scratch. That is because, the previous plot was stored as <code>g</code>, a ggplot object, which when called will reproduce the same plot. Using ggplot, you can add more layers and themes on top of this plot.</p>
<p>Did you notice that the line of best fit became more horizontal compared to the original plot? This is because, when using <code>xlim()</code> and <code>ylim()</code>, the points outside the specified range are deleted and will not be considered while drawing the line of best fit (using <code>geom_smooth(method='lm')</code>). This would come in handy when you would like to know how the line of best fit would change when some extreme values (or outliers) are removed.</p>
<p>The other method to change the X and Y axis limits is to zoom in to the region of interest <em>without</em> deleting the point. This is done using <code>coord_cartesian()</code>. Let’s store this plot as <code>g1</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Zoom in</span>
g1 &lt;-<span class="st"> </span>g +<span class="st"> </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">0.1</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1000000</span>))  <span class="co"># zooms in</span>
<span class="kw">plot</span>(g1)</code></pre></div>
<p><img src='screenshots/ggplot_tut_5.png' width='503' height='310' /></p>
<p>As a result, the lines of best fit did not change.</p>
<h2>4. Changing the title and axis labels</h2>
<p>I have stored this as <code>g1</code>. Let’s add the plot title and labels for X and Y axis. This can be done in one go using the <code>labs</code> function with <code>title</code>, <code>x</code> and <code>y</code> arguments. Another option is to use the <code>ggtitle()</code>, <code>xlab()</code> and <code>ylab()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g1 +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Area Vs Population&quot;</span>, <span class="dt">subtitle=</span><span class="st">&quot;From midwest dataset&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Population&quot;</span>, <span class="dt">x=</span><span class="st">&quot;Area&quot;</span>, <span class="dt">caption=</span><span class="st">&quot;Midwest Demographics&quot;</span>)
<span class="co"># or</span>
g1 +<span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Area Vs Population&quot;</span>, <span class="dt">subtitle=</span><span class="st">&quot;From midwest dataset&quot;</span>) +<span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Area&quot;</span>) +<span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Population&quot;</span>)</code></pre></div>
<p><img src='screenshots/ggplot_tut_6.png' width='503' height='310' /></p>
<p>Excellent! So here is the full function call.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x=</span>area, <span class="dt">y=</span>poptotal)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">0.1</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1000000</span>)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Area Vs Population&quot;</span>, <span class="dt">subtitle=</span><span class="st">&quot;From midwest dataset&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Population&quot;</span>, <span class="dt">x=</span><span class="st">&quot;Area&quot;</span>, <span class="dt">caption=</span><span class="st">&quot;Midwest Demographics&quot;</span>)</code></pre></div>
<h2>5. Changing the color and size of points, title and axis labels and text</h2>
<p>We can change the aesthetics of a geom layer by modifying the respective geoms. Let’s change the color of the points and the line.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x=</span>area, <span class="dt">y=</span>poptotal)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">col=</span><span class="st">&quot;steelblue&quot;</span>, <span class="dt">size=</span><span class="dv">3</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>, <span class="dt">col=</span><span class="st">&quot;firebrick&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.1</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1000000</span>)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Area Vs Population&quot;</span>, <span class="dt">subtitle=</span><span class="st">&quot;From midwest dataset&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Population&quot;</span>, <span class="dt">x=</span><span class="st">&quot;Area&quot;</span>, <span class="dt">caption=</span><span class="st">&quot;Midwest Demographics&quot;</span>)</code></pre></div>
<p><img src='screenshots/ggplot_tut_7.png' width='503' height='310' /></p>
<p>Suppose if we want the color to change based on another column in the source dataset (<code>midwest</code>), it must be specified inside the aes() function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x=</span>area, <span class="dt">y=</span>poptotal)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">col=</span>state), <span class="dt">size=</span><span class="dv">3</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>, <span class="dt">col=</span><span class="st">&quot;firebrick&quot;</span>, <span class="dt">size=</span><span class="dv">2</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.1</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1000000</span>)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Area Vs Population&quot;</span>, <span class="dt">subtitle=</span><span class="st">&quot;From midwest dataset&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Population&quot;</span>, <span class="dt">x=</span><span class="st">&quot;Area&quot;</span>, <span class="dt">caption=</span><span class="st">&quot;Midwest Demographics&quot;</span>)
<span class="kw">plot</span>(gg)</code></pre></div>
<p><img src='screenshots/ggplot_tut_9.png' width='503' height='310' /></p>
<p>As a benefit, the legend is added automatically. It can be removed by changing the legend position in theme function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position=</span><span class="st">&quot;None&quot;</span>)</code></pre></div>
<p>Also, You can change the color palette entirely.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">scale_colour_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>)</code></pre></div>
<p><img src='screenshots/ggplot_tut_10.png' width='503' height='310' /></p>
<p>More of such palettes can be found in the RColorBrewer package</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(RColorBrewer)
<span class="kw">head</span>(brewer.pal.info, <span class="dv">10</span>)  <span class="co"># show 10 palettes</span>
<span class="co">#&gt;          maxcolors category colorblind</span>
<span class="co">#&gt; BrBG            11      div       TRUE</span>
<span class="co">#&gt; PiYG            11      div       TRUE</span>
<span class="co">#&gt; PRGn            11      div       TRUE</span>
<span class="co">#&gt; PuOr            11      div       TRUE</span>
<span class="co">#&gt; RdBu            11      div       TRUE</span>
<span class="co">#&gt; RdGy            11      div      FALSE</span>
<span class="co">#&gt; RdYlBu          11      div       TRUE</span>
<span class="co">#&gt; RdYlGn          11      div      FALSE</span>
<span class="co">#&gt; Spectral        11      div      FALSE</span>
<span class="co">#&gt; Accent           8     qual      FALSE</span></code></pre></div>
<p><img src='screenshots/color_palettes.png' width='503' height='1257' /></p>
<p>Alright, Now let’s see how to change the X and Y axis text. This involves two aspects.</p>
<ol style="list-style-type: decimal">
<li>You need to specify at what intervals the axis ticks should appear. This can be done by setting the <code>breaks</code> option in <code>scale_x_continuous()</code>.</li>
</ol>
<p>The <code>breaks</code> should be of the same scale as the X axis variable. Note that I am using <code>scale_x_continuous</code> because, the X axis variable is a continuous variable. Had it been a date variable, <code>scale_x_date</code> could be used. Like <code>scale_x_continuous()</code> an equivalent <code>scale_y_continuous()</code> is available for Y axis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks=</span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="fl">0.1</span>, <span class="fl">0.01</span>))</code></pre></div>
<p><img src='screenshots/ggplot_tut_11.png' width='503' height='310' /></p>
<ol start="2" style="list-style-type: decimal">
<li>You can optionally change the <code>labels</code> at the axis ticks. <code>labels</code> take a vector of the same length as <code>breaks</code>.</li>
</ol>
<p>Let me demonstrate by setting the <code>labels</code> to alphabets from a to k (though there is no meaning to it in this context).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks=</span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="fl">0.1</span>, <span class="fl">0.01</span>), <span class="dt">labels =</span> letters[<span class="dv">1</span>:<span class="dv">11</span>])</code></pre></div>
<p><img src='screenshots/ggplot_tut_12.png' width='503' height='310' /></p>
<p>If you need to reverse the scale, use <code>scale_x_reverse()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">scale_x_reverse</span>()</code></pre></div>
<p><img src='screenshots/ggplot_tut_13.png' width='503' height='310' /></p>
<p>You can also format it as percentage and set the <code>breaks</code> for Y axis text as well.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks=</span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="fl">0.1</span>, <span class="fl">0.01</span>), <span class="dt">labels =</span> <span class="kw">sprintf</span>(<span class="st">&quot;%1.2f%%&quot;</span>, <span class="kw">seq</span>(<span class="dv">0</span>, <span class="fl">0.1</span>, <span class="fl">0.01</span>))) +<span class="st"> </span><span class="kw">scale_y_continuous</span>(<span class="dt">breaks=</span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1000000</span>, <span class="dv">200000</span>))</code></pre></div>
<p><img src='screenshots/ggplot_tut_14.png' width='503' height='310' /></p>
<p>The aesthetics of components such as plot and axis titles and the axis text can also be customised. Since they are part of the plot’s theme, it has to be passed to the <code>theme()</code> function and the values need to be set using the <code>element_text()</code> function. Below, I have changed the size, color, face and lineheight. The axis text can be tilted by changing the <code>angle</code>. It is not possible to cover all the aesthetics, but you can check <code>?theme</code> for the full list.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg1 &lt;-<span class="st"> </span>gg +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">plot.title=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">35</span>, <span class="dt">face=</span><span class="st">&quot;bold&quot;</span>, <span class="dt">color=</span><span class="st">&quot;steelblue&quot;</span>, <span class="dt">lineheight=</span><span class="fl">1.2</span>),  <span class="co"># title</span>
                  <span class="dt">plot.subtitle=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">25</span>, <span class="dt">face=</span><span class="st">&quot;bold&quot;</span>),  <span class="co"># subtitle</span>
                  <span class="dt">plot.caption=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>),  <span class="co"># caption</span>
                  <span class="dt">axis.title.x=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">30</span>), <span class="dt">axis.title.y=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">30</span>), <span class="co"># axis title</span>
                  <span class="dt">axis.text.x=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>, <span class="dt">angle =</span> <span class="dv">30</span>), <span class="dt">axis.text.y=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>))  <span class="co"># axis text</span>
<span class="kw">plot</span>(gg1)</code></pre></div>
<p><img src='screenshots/ggplot_tut_15.png' width='503' height='310' /></p>
<p>Finally, instead of changing this separately, we can change the entire theme. The help page <code>?theme_bw</code> shows all the available built-in themes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg1 +<span class="st"> </span><span class="kw">theme_bw</span>()
gg1 +<span class="st"> </span><span class="kw">theme_classic</span>()</code></pre></div>
<p><img src='screenshots/ggplot_tut_16.png' width='335' height='207' /><img src='screenshots/ggplot_tut_17.png' width='343' height='207' /></p>
<p>For more customised and fancy themes have a look at the <a href="https://github.com/jrnold/ggthemes">ggthemes</a> package and the <a href="https://github.com/cttobin/ggthemr">ggthemr</a> package.</p>
<p>That’s it for now. In <a href="ggplot2-Tutorial-Part2.html">ggplot tutorial part-2</a>, I will discuss manipulating legend, annotations, faceting and custom layouts.</p>
<hr />
<p>Have a suggestion or found a bug? Notify <a href="https://docs.google.com/forms/d/e/1FAIpQLSeIJmlvwe562R7JVpi5J2ydLyhk5-7OrGRMFGYrMJvjPal8eA/viewform">here.</a></p>
<p><em><strong>Editors Note:</strong> The <a href="packtpub.com/big-data-and-business-intelligence/mastering-r-programming-video">mastering R programming</a> video course has a dedicated section for ggplot2 where the concepts are demonstrated in detail. Additionally it includes solving real coding challenges at the end of every video lesson.</em></p>


        </div>
      </div>

      <div class="footer">
        <hr>
        <p>&copy; 2016-17 Selva Prabhakaran. Powered by <a href="http://jekyllrb.com/">jekyll</a>,
          <a href="http://yihui.name/knitr/">knitr</a>, and
          <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>.
          This work is licensed under the <a href="http://creativecommons.org/licenses/by-nc/3.0/">Creative Commons License.</a>
        </p>
      </div>

    </div> <!-- /container -->

  <script src="//code.jquery.com/jquery.js"></script>
  <script src="www/bootstrap.min.js"></script>
  <script src="www/toc.js"></script>
  <!-- MathJax Script -->
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
  </script>
  <script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  
  <!-- Google Analytics Code -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-69351797-1', 'auto');
    ga('send', 'pageview');
  </script>

  <style type="text/css">
  /* reduce spacing around math formula*/
    .MathJax_Display {
      margin: 0em 0em;
    }
    body {
      font-family: 'Helvetica Neue', Roboto, Arial, sans-serif;
      font-size: 16px;
      line-height: 27px;
      font-weight: 400;
    }

    blockquote p {
      line-height: 1.75;
      color: #717171;
    }

    .well li{
      line-height: 28px;
    }

    li.dropdown-header {
      display: block;
      padding: 0px;
      font-size: 14px;
    }
  </style>
  </body>
</html>